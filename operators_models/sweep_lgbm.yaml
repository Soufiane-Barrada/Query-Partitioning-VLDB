project: FlexOps

method: bayes
metric:
  name: val/Qloss-mean
  goal: minimize

run_cap: 50

parameters:
  lgbm.n_estimators:
    distribution: int_uniform
    min: 10
    max: 6000
  lgbm.learning_rate:
    distribution: log_uniform      # better prior for LR
    min: 0.001
    max: 0.2
  lgbm.max_depth:
    distribution: int_uniform
    min: 3
    max: 15
  lgbm.num_leaves:                  # LGBM’s key capacity knob
    distribution: int_uniform
    min: 15
    max: 600
  lgbm.min_child_samples:           # ≈ min_data_in_leaf
    distribution: int_uniform
    min: 5
    max: 200
  lgbm.reg_alpha:                   # L1 (alias lambda_l1)
    distribution: uniform
    min: 0
    max: 3.0
  lgbm.reg_lambda:                  # L2 (alias lambda_l2)
    distribution: uniform
    min: 0
    max: 3.0
  lgbm.min_split_gain:              # ≈ XGB gamma
    distribution: log_uniform
    min: 1e-6
    max: 1

command:
  - ${env}
  - python
  - -m
  - src.train         
  - --data-root
  - /Users/sba/Desktop/MasterThesis/flexdata-distributed-execution/outputs/zuvela/extracted_csv
  - --engine
  - duckdb
  - --op
  - filters
  - --model
  - lgbm                               # model
  - --loss
  - qloss                              # Loss 
  - --predict-log
  - "0"                                # Target Log
  - --target-norm
  - none                               # Target Norm
  - --time-unit
  - "s"                               # target unit
  - --input-norm
  - none                               # Input Norm
  - --log-counts
  - "1"                                # Input Log
  - --splitter
  - random                             # data split
  - --balance-train
  - "1"                                # data augmentation
  - --val-size
  - "0.2"                              # f
  - --test-size
  - "0.2"
  - --drop-outliers
  - "0"                                # "outliers"
  - --outlier-std
  - "5"                                
  - --hpo
  - wandb
  - --log-wandb
  - "1"
  - --project
  - FlexOps
